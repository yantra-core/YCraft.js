!function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).RS=t()}(function(){return function n(o,i,u){function c(e,t){if(!i[e]){if(!o[e]){var r="function"==typeof require&&require;if(!t&&r)return r(e,!0);if(a)return a(e,!0);throw(t=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",t}r=i[e]={exports:{}},o[e][0].call(r.exports,function(t){return c(o[e][1][t]||t)},r,r.exports,n,o,i,u)}return i[e].exports}for(var a="function"==typeof require&&require,t=0;t<u.length;t++)c(u[t]);return c}({1:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"Actuator",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(r,"Amplifier",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(r,"Button",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(r,"ElectricalSignal",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(r,"LEDLight",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(r,"LaserSensor",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(r,"Mirror",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(r,"MotionDetector",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(r,"PressureSensor",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(r,"RealStone",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(r,"Repeater",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(r,"Rover",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(r,"Wire",{enumerable:!0,get:function(){return v.default}}),r.createContraption=function(){return new n.default};var n=h(t("./lib/RealStone.js")),o=h(t("./lib/signals/ElectricalSignal.js")),i=h(t("./lib/parts/Actuator.js")),u=h(t("./lib/parts/Amplifier.js")),c=h(t("./lib/parts/Button.js")),a=h(t("./lib/parts/LaserSensor.js")),l=h(t("./lib/parts/LEDLight.js")),f=h(t("./lib/parts/Mirror.js")),s=h(t("./lib/parts/MotionDetector.js")),p=h(t("./lib/parts/PressureSensor.js")),y=h(t("./lib/parts/Repeater.js")),b=h(t("./lib/parts/Rover.js")),v=h(t("./lib/parts/Wire.js"));function h(t){return t&&t.__esModule?t:{default:t}}},{"./lib/RealStone.js":3,"./lib/parts/Actuator.js":4,"./lib/parts/Amplifier.js":5,"./lib/parts/Button.js":6,"./lib/parts/LEDLight.js":7,"./lib/parts/LaserSensor.js":8,"./lib/parts/Mirror.js":9,"./lib/parts/MotionDetector.js":10,"./lib/parts/PressureSensor.js":11,"./lib/parts/Repeater.js":12,"./lib/parts/Rover.js":13,"./lib/parts/Wire.js":14,"./lib/signals/ElectricalSignal.js":15}],2:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Part=void 0;t=(t=t("./utils/EventEmitter.js"))&&t.__esModule?t:{default:t};function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u(n.key),n)}}function a(t,e){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function l(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=i(r),e=(t=n?(t=i(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t){t=function(t,e){if("object"!=o(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0===r)return("string"===e?String:Number)(t);r=r.call(t,e||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==o(t)?t:String(t)}var n,r=r.Part=function(t){var e=u;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t);var r,n,i=l(u);function u(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,n=this,o=u;if(n instanceof o)return(n=i.call(this)).id=u.idCounter++,n.position={x:t,y:e,z:r},n.size={width:64,height:64,depth:64},n.props={},n;throw new TypeError("Cannot call a class as a function")}return e=u,r&&c(e.prototype,r),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t.default);t=r,r=0,(n=u(n="idCounter"))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r},{"./utils/EventEmitter.js":16}],3:[function(t,e,r){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(t("./utils/EventEmitter.js"));n(t("./parts/Wire.js")),n(t("./parts/PressureSensor.js")),n(t("./parts/LEDLight.js"));function n(t){return t&&t.__esModule?t:{default:t}}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,function(t){t=function(t,e){if("object"!=o(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0===r)return("string"===e?String:Number)(t);r=r.call(t,e||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==o(t)?t:String(t)}(n.key),n)}}function c(t,e){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function a(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=l(r),e=(t=n?(t=l(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}t=function(t){var e=o;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t);var r,n=a(o);function o(){var t=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).powerRequired,t=void 0!==t&&t,e=this,r=o;if(e instanceof r)return(e=n.call(this)).parts=[],e.powerRequired=t,e;throw new TypeError("Cannot call a class as a function")}return e=o,(t=[{key:"addPart",value:function(t){var o=this;this.parts.push(t),t instanceof i.default&&(t.onAny(function(t){for(var e=arguments.length,r=new Array(1<e?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];o.emit.apply(o,[t].concat(r))}),"function"==typeof t.setRealStone)&&t.setRealStone(this)}},{key:"findpart",value:function(e){return this.parts.find(function(t){return t instanceof e})}},{key:"setPowerRequired",value:function(t){this.config.powerRequired=t}},{key:"connect",value:function(t){t instanceof RealStoneComponent&&(this.realStone,t.realStone)}},{key:"run",value:function(){}},{key:"tick",value:function(){this.parts.forEach(function(t){"function"==typeof t.update&&t.update()})}},{key:"toJSON",value:function(){var e=this;return{powerRequired:this.powerRequired,parts:this.parts.map(function(t){return{type:t.constructor.name,properties:e.getPartProperties(t),connections:e.getPartConnections(t),position:t.position,size:t.size}})}}},{key:"getPartProperties",value:function(t){var e={};if(t.props)for(var r in t.props)e[r]=t.props[r];return e}},{key:"getPartConnections",value:function(t){var e=[];return t.connectedParts&&t.connectedParts.forEach(function(t){e.push({id:t.id,type:t.constructor.name})}),e}}])&&u(e.prototype,t),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(i.default);r.default=t},{"./parts/LEDLight.js":7,"./parts/PressureSensor.js":11,"./parts/Wire.js":14,"./utils/EventEmitter.js":16}],4:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;t=t("../Part.js");function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,c(n.key),n)}}function i(t,e){return(i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function a(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=u(r),e=(t=n?(t=u(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t){t=function(t,e){if("object"!=o(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0===r)return("string"===e?String:Number)(t);r=r.call(t,e||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==o(t)?t:String(t)}var l,r=r.default=function(t){var e=c;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t);var r,u=a(c);function c(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,n=(3<arguments.length&&void 0!==arguments[3]?arguments[3]:{}).frequency,n=void 0===n?1e3:n,o=this,i=c;if(o instanceof i)return(o=u.call(this,t,e,r)).type=c.type,o.isActive=!1,o.frequency=n,o.pulseTimer=null,o.connectedParts=[],o;throw new TypeError("Cannot call a class as a function")}return e=c,(t=[{key:"connect",value:function(t){"Wire"===t.constructor.name&&t.inputs.push(this),this.connectedParts.push(t)}},{key:"receive",value:function(t){this.signal=t,this.toggleState()}},{key:"toggleState",value:function(){this.isActive=!this.isActive,this.isActive?(this.startPulsing(),this.emit("activate")):(this.stopPulsing(),this.emit("deactivate"))}},{key:"startPulsing",value:function(){var t=this;null===this.pulseTimer&&(this.pulseTimer=setInterval(function(){t.update()},this.frequency))}},{key:"stopPulsing",value:function(){null!==this.pulseTimer&&(clearInterval(this.pulseTimer),this.pulseTimer=null)}},{key:"update",value:function(){var e=this;this.isActive&&this.connectedParts.forEach(function(t){return t.receive(e.signal)})}}])&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),c}(t.Part);t=r,r="Actuator",(l=c(l="type"))in t?Object.defineProperty(t,l,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[l]=r},{"../Part.js":2}],5:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;t=t("../Part.js");function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,c(n.key),n)}}function o(t,e){return(o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function i(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=u(r),e=(t=n?(t=u(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t){t=function(t,e){if("object"!=a(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0===r)return("string"===e?String:Number)(t);r=r.call(t,e||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==a(t)?t:String(t)}var l,r=r.default=function(t){var e=c;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t);var r,u=i(c);function c(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,n=(3<arguments.length&&void 0!==arguments[3]?arguments[3]:{}).amplitude,n=void 0===n?2:n,o=this,i=c;if(o instanceof i)return"object"===a(t)&&(n=t.amplitude||n,r=t.z||0,e=t.y||0,t=t.x||0),(o=u.call(this,t,e,r)).type=c.type,o.connectedParts=[],o.amplitude=n,o;throw new TypeError("Cannot call a class as a function")}return e=c,(t=[{key:"connect",value:function(t){"Wire"===t.constructor.name&&t.inputs.push(this),this.connectedParts.push(t)}},{key:"receive",value:function(t){t.current=t.current*this.amplitude,this.transmit(t)}},{key:"transmit",value:function(e){this.connectedParts.forEach(function(t){t.receive&&t.receive(e)})}},{key:"update",value:function(){}}])&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),c}(t.Part);t=r,r="Amplifier",(l=c(l="type"))in t?Object.defineProperty(t,l,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[l]=r},{"../Part.js":2}],6:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=t("../Part.js"),c=(t=t("../signals/ElectricalSignal.js"))&&t.__esModule?t:{default:t};function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u(n.key),n)}}function l(t,e){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function f(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=i(r),e=(t=n?(t=i(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t){t=function(t,e){if("object"!=o(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0===r)return("string"===e?String:Number)(t);r=r.call(t,e||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==o(t)?t:String(t)}var t=r.default=function(t){var e=u;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t);var r,i=f(u);function u(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,n=this,o=u;if(n instanceof o)return(n=i.call(this,t,e,r)).type=u.type,n.connectedComponent=null,n.signal=new c.default,n.connectedParts=[],n.toggleDelay=100,n.autoReleaseDelay=500,n.lastToggle=0,n.pressTimer=null,n;throw new TypeError("Cannot call a class as a function")}return e=u,(t=[{key:"setRealStone",value:function(t){this.realStone=t}},{key:"connect",value:function(t){"Wire"===t.constructor.name&&t.inputs.push(this),this.connectedParts.push(t)}},{key:"press",value:function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.signal,r=Date.now();r-this.lastToggle<this.toggleDelay||(this.lastToggle=r,this.emit("press",e),this.connectedParts.forEach(function(t){t.receive&&"function"==typeof t.receive&&t.receive(e)}),this.pressTimer&&clearTimeout(this.pressTimer),this.pressTimer=setTimeout(function(){t.release(),t.pressTimer=null},this.autoReleaseDelay))}},{key:"receive",value:function(t){this.transmit(t)}},{key:"transmit",value:function(e){this.connectedParts.forEach(function(t){t.receive&&t.receive(e)})}},{key:"release",value:function(){var e=this;this.emit("release"),this.connectedParts.forEach(function(t){t.off&&"function"==typeof t.off&&t.off(e.signal)})}}])&&a(e.prototype,t),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(n.Part);r=t,n="Button",(t=u(t="type"))in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n},{"../Part.js":2,"../signals/ElectricalSignal.js":15}],7:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;t=t("../Part.js");function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,c(n.key),n)}}function o(t,e){return(o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function i(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=u(r),e=(t=n?(t=u(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t){t=function(t,e){if("object"!=l(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0===r)return("string"===e?String:Number)(t);r=r.call(t,e||"default");if("object"!=l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==l(t)?t:String(t)}var a,r=r.default=function(t){var e=a;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t);var r,c=i(a);function a(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},o=n.wattage,o=void 0===o?40:o,n=n.maxWattage,n=void 0===n?120:n,i=this,u=a;if(i instanceof u)return"object"===l(t)&&(o=t.wattage||o,n=t.maxWattage||n,r=t.z||0,e=t.y||0,t=t.x||0),(i=c.call(this,t,e,r)).type=a.type,i.wattage=o,i.maxWattage=n,i.isOn=!1,i.isBroken=!1,i;throw new TypeError("Cannot call a class as a function")}return e=a,(t=[{key:"setRealStone",value:function(t){this.realStone=t}},{key:"off",value:function(t){this.isOn=!1,this.emit("off")}},{key:"receive",value:function(t){var e;this.isBroken||((e=(this.signal=t).calculatePower())>this.maxWattage?(this.isOn=!1,this.isBroken=!0,this.emit("broken")):this.isOn?(this.isOn=!1,this.emit("off",t)):(!this.realStone.powerRequired||e>=this.wattage)&&(this.isOn=!0,this.emit("on",t)))}},{key:"handleCollision",value:function(t){this.isBroken||"Rover"===t.type&&(this.isOn=!1,this.isBroken=!0,this.props.color="grey",this.emit("broken"))}},{key:"update",value:function(){this.isBroken}}])&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(t.Part);t=r,r="LEDLight",(a=c(a="type"))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r},{"../Part.js":2}],8:[function(t,e,r){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=u(t("../utils/EventEmitter.js")),i=u(t("../signals/ElectricalSignal.js"));function u(t){return t&&t.__esModule?t:{default:t}}function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,function(t){t=function(t,e){if("object"!=o(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0===r)return("string"===e?String:Number)(t);r=r.call(t,e||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==o(t)?t:String(t)}(n.key),n)}}function a(t,e){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function l(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=f(r),e=(t=n?(t=f(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}r.default=function(t){var e=o;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t);var r,n=l(o);function o(){var t;if(this instanceof o)return(t=n.call(this)).connectedComponent=null,t.laserSignal=new i.default({voltage:5,current:.1}),t;throw new TypeError("Cannot call a class as a function")}return e=o,(t=[{key:"connect",value:function(t){this.connectedComponent=t}},{key:"emitLaser",value:function(){this.connectedComponent&&this.connectedComponent.receive(this.laserSignal)}},{key:"receive",value:function(t){}}])&&c(e.prototype,t),r&&c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(n.default)},{"../signals/ElectricalSignal.js":15,"../utils/EventEmitter.js":16}],9:[function(t,e,r){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;t=(t=t("../utils/EventEmitter.js"))&&t.__esModule?t:{default:t};function i(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)),n}function u(n){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?i(Object(o),!0).forEach(function(t){var e,r;e=n,r=o[t=t],(t=a(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(o,t))})}return n}function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a(n.key),n)}}function a(t){t=function(t,e){if("object"!=o(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0===r)return("string"===e?String:Number)(t);r=r.call(t,e||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==o(t)?t:String(t)}function l(t,e){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function f(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=s(r),e=(t=n?(t=s(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}r.default=function(t){var e=o;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t);var r,n=f(o);function o(){var t;if(this instanceof o)return(t=n.call(this)).connectedComponent=null,t.orientation=0,t;throw new TypeError("Cannot call a class as a function")}return e=o,(t=[{key:"connect",value:function(t){this.connectedComponent=t}},{key:"setOrientation",value:function(t){this.orientation=t}},{key:"receive",value:function(t){"LightSignal"===t.constructor.name&&(console.log("Mirror: Reflecting laser at orientation ".concat(this.orientation," degrees.")),this.connectedComponent)&&(t=u(u({},t),{},{direction:this.calculateReflectionDirection(t.direction)}),this.connectedComponent.receive(t))}},{key:"calculateReflectionDirection",value:function(t){return(t+2*this.orientation)%360}}])&&c(e.prototype,t),r&&c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(t.default)},{"../utils/EventEmitter.js":16}],10:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=t("../Part.js"),o=(t=t("../signals/ElectricalSignal.js"))&&t.__esModule?t:{default:t};function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,f(n.key),n)}}function a(t,e){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function l(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=u(r),e=(t=n?(t=u(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t){t=function(t,e){if("object"!=i(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0===r)return("string"===e?String:Number)(t);r=r.call(t,e||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==i(t)?t:String(t)}var t=r.default=function(t){var e=u;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t);var r,i=l(u);function u(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,n=this,o=u;if(n instanceof o)return(n=i.call(this,t,e,r)).type=u.type,n.isConnected=!1,n.connectedParts=[],n;throw new TypeError("Cannot call a class as a function")}return e=u,(t=[{key:"connect",value:function(t){this.isConnected=!0,"Wire"===t.constructor.name&&t.inputs.push(this),this.connectedParts.push(t)}},{key:"detectMotion",value:function(){var t;this.isConnected?((t=new o.default({voltage:5})).encodeUSB(1),console.log("Motion detected!"),this.transmit(t),this.emit("motion",t)):console.log("Motion detector is not connected to any component.")}},{key:"transmit",value:function(e){this.connectedParts.forEach(function(t){"function"==typeof t.receive&&t.receive(e)})}},{key:"update",value:function(){}}])&&c(e.prototype,t),r&&c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(n.Part);r=t,n="MotionDetector",(t=f(t="type"))in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n},{"../Part.js":2,"../signals/ElectricalSignal.js":15}],11:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var c=(n=t("../signals/ElectricalSignal.js"))&&n.__esModule?n:{default:n},n=t("../Part.js");function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u(n.key),n)}}function l(t,e){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function f(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=i(r),e=(t=n?(t=i(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t){t=function(t,e){if("object"!=o(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0===r)return("string"===e?String:Number)(t);r=r.call(t,e||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==o(t)?t:String(t)}var t=r.default=function(t){var e=u;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t);var r,i=f(u);function u(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,n=this,o=u;if(n instanceof o)return(n=i.call(this,t,e,r)).type=u.type,n.connectedParts=[],n.signal=new c.default,n;throw new TypeError("Cannot call a class as a function")}return e=u,(t=[{key:"connect",value:function(t){"Wire"===t.constructor.name&&t.inputs.push(this),this.connectedParts.push(t)}},{key:"trigger",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.signal;this.emit("trigger",e),this.connectedParts.forEach(function(t){t.receive&&"function"==typeof t.receive&&t.receive(e)})}},{key:"receive",value:function(t){}}])&&a(e.prototype,t),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(n.Part);r=t,n="PressureSensor",(t=u(t="type"))in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n},{"../Part.js":2,"../signals/ElectricalSignal.js":15}],12:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;t=t("../Part.js");function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u(n.key),n)}}function c(t,e){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function a(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=i(r),e=(t=n?(t=i(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t){t=function(t,e){if("object"!=o(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0===r)return("string"===e?String:Number)(t);r=r.call(t,e||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==o(t)?t:String(t)}var l,r=r.default=function(t){var e=u;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t);var r,i=a(u);function u(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,n=this,o=u;if(n instanceof o)return(n=i.call(this,t,e,r)).type=u.type,n.connectedParts=[],n;throw new TypeError("Cannot call a class as a function")}return e=u,(t=[{key:"connect",value:function(t){"Wire"===t.constructor.name&&t.inputs.push(this),this.connectedParts.push(t)}},{key:"receive",value:function(t){this.transmit(t)}},{key:"transmit",value:function(e){this.emit("repeat",e),this.connectedParts.forEach(function(t){t.receive&&t.receive(e)})}},{key:"update",value:function(){}}])&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(t.Part);t=r,r="Repeater",(l=u(l="type"))in t?Object.defineProperty(t,l,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[l]=r},{"../Part.js":2}],13:[function(t,e,r){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a(n.key),n)}}function i(t,e){return(i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function u(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=c(r),e=(t=n?(t=c(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t){t=function(t,e){if("object"!=o(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0===r)return("string"===e?String:Number)(t);r=r.call(t,e||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==o(t)?t:String(t)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var l,f,s,t=function(t){var e=l;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t);var r,a=u(l);function l(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},o=n.velocity,o=void 0===o?{x:5,y:5}:o,i=n.color,i=void 0===i?13421772:i,n=n.movementRate,n=void 0===n?16.666:n,u=this,c=l;if(u instanceof c)return(u=a.call(this,t,e,r)).type=l.type,u.props={},u.props.velocity=o,u.props.color=i,u.props.movementRate=n,u.state="inactive",u.isOn=!1,u.movementInterval=null,u.defaultDelay=100,u.collisionCooldown=!1,u.on("collision",u.handleCollision),u;throw new TypeError("Cannot call a class as a function")}return e=l,(t=[{key:"setRealStone",value:function(t){this.realStone=t}},{key:"toggleOnOff",value:function(){this.isOn=!this.isOn,this.isOn?this.startMoving():this.stopMoving()}},{key:"startMoving",value:function(){var t=this;this.state="active",this.movementInterval&&clearInterval(this.movementInterval),this.movementInterval=setInterval(function(){return t.update()},this.props.movementRate)}},{key:"stopMoving",value:function(){this.state="inactive",this.movementInterval&&clearInterval(this.movementInterval)}},{key:"update",value:function(){"active"===this.state&&(this.emit("move",this.position),this.position.x+=this.props.velocity.x,this.position.y+=this.props.velocity.y)}},{key:"handleCollision",value:function(t){"Wire"===t.name||"Rover"===t.name||this.collisionCooldown||(this.props.velocity.x*=-1,this.props.velocity.y*=-1,this.emit("move",this.position),this.startCollisionCooldown())}},{key:"startCollisionCooldown",value:function(){var t=this;this.collisionCooldown=!0,setTimeout(function(){t.collisionCooldown=!1},this.props.movementRate)}}])&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),l}(t("../Part.js").Part);l=t,s="Rover",(f=a(f="type"))in l?Object.defineProperty(l,f,{value:s,enumerable:!0,configurable:!0,writable:!0}):l[f]=s,r.default=t},{"../Part.js":2}],14:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=t("../Part.js");(t=t("../signals/ElectricalSignal.js"))&&t.__esModule;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,l(n.key),n)}}function u(t,e){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function c(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=a(r),e=(t=n?(t=a(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t){t=function(t,e){if("object"!=o(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0===r)return("string"===e?String:Number)(t);r=r.call(t,e||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==o(t)?t:String(t)}var t=r.default=function(t){var e=o;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t);var r,n=c(o);function o(){var t=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).signalLoss,t=void 0===t||t,e=this,r=o;if(e instanceof r)return(e=n.call(this)).type=o.type,e.props={signalLoss:t,resistivity:1.68e-8,crossSectionalArea:208e-8},e.connectedParts=[],e.segments=[],e.inputs=[],e.outputs=[],e;throw new TypeError("Cannot call a class as a function")}return e=o,(t=[{key:"calculateResistance",value:function(t){return this.props.resistivity*t/this.props.crossSectionalArea}},{key:"connect",value:function(t){this.connectedParts.push(t),this.outputs.push(t),this.updateSegmentLengths(t)}},{key:"updateSegmentLengths",value:function(t){this.calculateSegmentLengthsForPartArray(t,this.inputs),this.calculateSegmentLengthsForPartArray(t,this.outputs)}},{key:"calculateSegmentLengthsForPartArray",value:function(e,t){var r=this;t.forEach(function(t){t!==e&&(t=r.calculateSegment(e.position,t.position),r.segments.push(t))})}},{key:"calculateSegment",value:function(t,e){return{input:t,output:e,length:Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)+Math.pow(e.z-t.z,2))}}},{key:"receive",value:function(t){this.props.signalLoss&&(t=this.applySignalLoss(t)),this.transmit(t)}},{key:"applySignalLoss",value:function(r){var n=this,t=this.segments.reduce(function(t,e){e=n.calculateResistance(e.length);return t+r.current*e},0);return r.voltage=Math.max(r.voltage-t,0),r}},{key:"off",value:function(){this.emit("off"),this.connectedParts.forEach(function(t){t.off&&t.off()})}},{key:"transmit",value:function(e){this.props.signalLoss&&(e=this.applySignalLoss(e)),this.emit("transmit",e),this.connectedParts.forEach(function(t){t.receive&&t.receive(e)})}}])&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(n.Part);r=t,n="Wire",(t=l(t="type"))in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n},{"../Part.js":2,"../signals/ElectricalSignal.js":15}],15:[function(t,e,r){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,function(t){t=function(t,e){if("object"!=o(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0===r)return("string"===e?String:Number)(t);r=r.call(t,e||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==o(t)?t:String(t)}(n.key),n)}}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;r.default=function(){function f(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.voltage,e=void 0===e?5:e,r=t.current,r=void 0===r?1:r,n=t.resistance,n=void 0===n?0:n,o=t.capacitance,o=void 0===o?0:o,i=t.inductance,i=void 0===i?0:i,u=t.frequency,u=void 0===u?0:u,c=t.phaseAngle,c=void 0===c?0:c,t=t.powerFactor,t=void 0===t?1:t,a=this,l=f;if(!(a instanceof l))throw new TypeError("Cannot call a class as a function");this.voltage=e,this.current=r,this.resistance=n,this.capacitance=o,this.inductance=i,this.frequency=u,this.phaseAngle=c,this.powerFactor=t}var t,e,r;return t=f,(e=[{key:"calculatePower",value:function(){return this.voltage*this.current}},{key:"encodeUSB",value:function(t){t=1===t?.2:-.2;this.dPlusVoltage=this.voltage+t,this.dMinusVoltage=this.voltage-t}}])&&n(t.prototype,e),r&&n(t,r),Object.defineProperty(t,"prototype",{writable:!1}),f}()},{}],16:[function(t,e,r){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,function(t){t=function(t,e){if("object"!=o(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0===r)return("string"===e?String:Number)(t);r=r.call(t,e||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==o(t)?t:String(t)}(n.key),n)}}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;r.default=function(){function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.listeners={},this.anyListeners=[]}var e,r,n;return e=t,(r=[{key:"onAny",value:function(t){this.anyListeners.push(t)}},{key:"offAny",value:function(e){this.anyListeners=this.anyListeners.filter(function(t){return t!==e})}},{key:"on",value:function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)}},{key:"off",value:function(t,e){this.listeners[t]&&(this.listeners[t]=this.listeners[t].filter(function(t){return t!==e}))}},{key:"once",value:function(o,i){var u=this;this.on(o,function t(){u.off(o,t);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];i.apply(u,r)})}},{key:"emit",value:function(r){for(var n=this,t=arguments.length,o=new Array(1<t?t-1:0),e=1;e<t;e++)o[e-1]=arguments[e];this.anyListeners.forEach(function(t){try{var e=r;n.type&&(e=n.type+"::"+r),t.call.apply(t,[n,e].concat(o))}catch(t){console.error('Error when executing any listener for event "'.concat(r,'":'),t)}});var i=this.listeners[r];i&&i.forEach(function(t){try{t.apply(n,o)}catch(t){console.error('Error when executing listener for event "'.concat(r,'":'),t)}})}},{key:"listenerCount",value:function(t){return this.listeners[t]?this.listeners[t].length:0}}])&&i(e.prototype,r),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}()},{}]},{},[1])(1)});
//# sourceMappingURL=realstone.min.js.map